{% extends "base.html" %}
{% load thumbnail %}

    {% block content %}
    <div id="header" class="hi">Touch an object to see its label or touch a label to see its object</div>

    <div class="clip">
        
        <ul class="carousel" id="img">
            {% for dl in labels %}
            <li class="{% if forloop.counter == 3 %}active home {% endif %}img obj">
                <div class="case">
                    <div class="mask"></div>
                    {% thumbnail dl.image_set.all.0.image_file "128x128" pad=True as im %}
                    <img class="inactive" src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" title="{{ dl.name }} {{ dl.date_text }}" alt="" />
                    {% endthumbnail %}
                    {% thumbnail dl.image_set.all.0.image_file "222x222" pad=True as im %}
                    <img class="active" src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" title="{{ dl.name }} {{ dl.date_text }}" data-img-l="{% thumbnail dl.image_set.all.0.image_file "540x540" pad=True as im_l %}{{ im_l.url }}{% endthumbnail %}" alt="" />
                    {% endthumbnail %}
                    <div class="ctrl"></div>
                </div>
                {% if dl.image_set.all|length > 1 %}
                <div class="thumbs">
                    {% for img in dl.image_set.all %}
                        {% if forloop.counter > 1 and forloop.counter < 6 %}
                            {% thumbnail img.image_file "30x30" pad=True as im %}
                            <img src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" title="{{ dl.name }} {{ dl.date_text }}" data-img-l="{% thumbnail img.image_file "540x540" pad=True as im_l %}{{ im_l.url }}{% endthumbnail %}" alt="" />
                            {% endthumbnail %}
                        {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        
        <ul class="carousel" id="txt">
            {% for dl in labels %}
            <li class="{% if dl.gateway_object %}active home {% endif %}txt obj">
                <div class="mask"></div>
                <div class="title"><h2>{{ dl.name }}</h2></div>
                <div class="row">
                    <div class="txtl edged col">
                        <div class="pane"><p>{{ dl.date_text }}</p></div>
                        <div class="data col">
                            <div class="pane">
                                <p>{{ dl.artist_maker }}</p>
                                <p>{{ dl.materials_techniques }}</p>
                                <p><em>Museum no. {{ dl.museum_number }}</em></p>
                            </div>
                        </div>
                    </div>
                    <div class="txtr col">
                        <div class="pane">{{ dl.main_text }}</div>
                        <div class="ctrl"><span>A</span><span class="lfont">A</span></div>
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>
        
    </div>
    
    <div class="pop" id="imgpop"><div class="case" id="imgbox"><img id="imgbig" src="" alt="" /><div class="ctrl"></div></div><div id="imgtxt"></div></div>
    <div class="txt pop lfont" id="txtpop"></div>
    {% endblock %}
